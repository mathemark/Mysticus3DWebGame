{"ast":null,"code":"const DB = 'http://127.0.0.1:8000/api/';\n\n//új szint elmentése\nexport const saveLevel = async level => {\n  const credentials = {\n    username: localStorage.getItem('username'),\n    levelAt: level\n  };\n  try {\n    const response = await fetch(DB + 'setlevel/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    });\n    const data = await response.json();\n    if (data.status === 'success') {\n      alert('Your level has been updated.');\n    } else {\n      alert(data.message);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//Szint lekérdezése adatbázisból\nexport const getLevel = async username => {\n  try {\n    const response = await fetch(DB + 'level/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username\n      })\n    });\n    const data = await response.json();\n    if (data.status === 'success' && data.levelAt) {\n      alert('Login successful!');\n      window.location.href = data.levelAt;\n    } else {\n      alert(\"Something ain't right.\");\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//Felhasználó bejelentkezése\nexport const loginUser = async (credentials, username) => {\n  try {\n    const response = await fetch(DB + 'login/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    });\n    const data = await response.json();\n    if (data.status === 'success') {\n      localStorage.setItem('username', username);\n      getLevel(username);\n    } else if (data.status === 'error') {\n      // Handle error case\n      alert(data.message);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//Felhasználó kijelentkezése\nexport const logoutUser = async () => {\n  try {\n    const response = await fetch(DB + 'logout/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: localStorage.getItem('username')\n      })\n    });\n    const data = await response.json();\n    if (data.status === 'success') {\n      alert('Logout successful!');\n      localStorage.setItem('username', '');\n      window.location.href = \"/\";\n    } else {\n      alert(\"Something ain't right.\");\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//Jelszó csere \nexport const passwordChange = async (ChangeUserPswd, fadeInElement, sleep) => {\n  try {\n    const response = await fetch(DB + 'password_change/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(ChangeUserPswd)\n    });\n    const data = await response.json();\n    if (data.status === 'success') {\n      alert('Your password has been changed.');\n      fadeInElement.classList.remove('fade-in');\n      console.log(\"done and done\");\n      await sleep(3);\n      window.location.href = \"/\";\n    } else if (data.status === 'error') {\n      // Handle error case\n      alert(data.message);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const registerUser = async (newUser, fadeInElement, sleep) => {\n  try {\n    const response = await fetch(DB + 'register/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newUser)\n    });\n    const data = await response.json();\n    if (data.status === 'success') {\n      alert('Successful registration, now lets play');\n      fadeInElement.classList.remove('fade-in');\n      console.log(\"done and done\");\n      await sleep(3);\n      window.location.href = \"/\";\n    } else if (data.status === 'error') {\n      // Handle error case\n      alert(data.message);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};","map":{"version":3,"names":["DB","saveLevel","level","credentials","username","localStorage","getItem","levelAt","response","fetch","method","headers","body","JSON","stringify","data","json","status","alert","message","error","console","getLevel","window","location","href","loginUser","setItem","logoutUser","passwordChange","ChangeUserPswd","fadeInElement","sleep","classList","remove","log","registerUser","newUser"],"sources":["/Users/markmathe/Downloads/DjangoRest-React-ThreeJs-Template-master-master-2/app/src/components/utils.js"],"sourcesContent":["const DB = 'http://127.0.0.1:8000/api/'\n\n//új szint elmentése\nexport const saveLevel = async (level) => {\n\n    const credentials = {\n        username: localStorage.getItem('username'),\n        levelAt: level,\n    };\n\n    try {\n        const response = await fetch(DB +'setlevel/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(credentials)\n        });\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n            alert('Your level has been updated.');\n\n        } else {\n            alert(data.message);\n        }\n    } catch (error) {\n        console.error(error);\n    }\n}\n\n//Szint lekérdezése adatbázisból\nexport const getLevel = async (username) => {\n    try {\n        const response = await fetch(DB +'level/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ username: username })\n        });\n\n        const data = await response.json();\n\n        if (data.status === 'success' && data.levelAt ) {\n            alert('Login successful!');\n\n            window.location.href = data.levelAt;\n            \n        } else {\n            alert(\"Something ain't right.\");\n        }\n    } catch (error) {\n        console.error(error);\n    }\n}\n\n//Felhasználó bejelentkezése\nexport const loginUser = async (credentials, username) => {\n\n    try {\n        const response = await fetch(DB + 'login/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(credentials)\n        });\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n\n            localStorage.setItem('username', username);\n            getLevel(username);\n            \n        } else if (data.status === 'error') {\n            // Handle error case\n            alert(data.message);\n        }\n    } catch (error) {\n        console.error(error);\n    }\n\n    }\n\n//Felhasználó kijelentkezése\nexport const logoutUser = async () => {\n\n    try {\n        const response = await fetch(DB + 'logout/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ username: localStorage.getItem('username') })\n        });\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n            alert('Logout successful!');\n            localStorage.setItem('username', '');\n            window.location.href = \"/\";\n\n        } else {\n            alert(\"Something ain't right.\");\n        }\n    } catch (error) {\n        console.error(error);\n    }\n\n}\n\n//Jelszó csere \nexport const passwordChange = async (ChangeUserPswd,fadeInElement,sleep) => {\n\n    try {\n        const response = await fetch(DB + 'password_change/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(ChangeUserPswd)\n        });\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n            alert('Your password has been changed.');\n            fadeInElement.classList.remove('fade-in');\n            console.log(\"done and done\")\n            await sleep(3);\n            window.location.href = \"/\";\n        } else if (data.status === 'error') {\n            // Handle error case\n            alert(data.message);\n        }\n    } catch (error) {\n        console.error(error);\n    }\n\n}\n\nexport const registerUser = async (newUser, fadeInElement, sleep) =>{\n\n    try {\n        const response = await fetch(DB + 'register/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(newUser)\n        });\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n            alert('Successful registration, now lets play');\n            fadeInElement.classList.remove('fade-in');\n            console.log(\"done and done\")\n            await sleep(3);\n            window.location.href = \"/\";\n        } else if (data.status === 'error') {\n            // Handle error case\n            alert(data.message);\n        }\n    } catch (error) {\n        console.error(error);\n    }\n\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}